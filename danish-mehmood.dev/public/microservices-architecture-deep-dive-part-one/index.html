<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Microservices Architecture Deep Dive: Part One - danish-mehmood</title><meta name="Description" content="This blog series is all about microservices, we will start with simple definition of microservices and and go all the way to know how to implement them effectively and when do they make sense and when is it a stupid idea to implement microservices"><meta property="og:title" content="Microservices Architecture Deep Dive: Part One" />
<meta property="og:description" content="This blog series is all about microservices, we will start with simple definition of microservices and and go all the way to know how to implement them effectively and when do they make sense and when is it a stupid idea to implement microservices" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/" /><meta property="og:image" content="https://danish-mehmood.github.io/images/posts/microservices/microservices_header.gif" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-11-29T08:08:47+05:00" />
<meta property="article:modified_time" content="2024-11-29T08:08:47+05:00" /><meta property="og:site_name" content="danish-mehmood.io" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://danish-mehmood.github.io/images/posts/microservices/microservices_header.gif"/>

<meta name="twitter:title" content="Microservices Architecture Deep Dive: Part One"/>
<meta name="twitter:description" content="This blog series is all about microservices, we will start with simple definition of microservices and and go all the way to know how to implement them effectively and when do they make sense and when is it a stupid idea to implement microservices"/>
<meta name="application-name" content="danish-mehmood.io">
<meta name="apple-mobile-web-app-title" content="danish-mehmood.io"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="images/avatar.jpg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/" /><link rel="next" href="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-two--api-gateways-and-bff-pattern/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Microservices Architecture Deep Dive: Part One",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/danish-mehmood.github.io\/microservices-architecture-deep-dive-part-one\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/danish-mehmood.github.io\/images\/posts\/microservices\/microservices_header.gif",
                            "width":  1100 ,
                            "height":  618 
                        }],"genre": "posts","keywords": "microservices, distributed systems","wordcount":  2851 ,
        "url": "https:\/\/danish-mehmood.github.io\/microservices-architecture-deep-dive-part-one\/","datePublished": "2024-11-29T08:08:47+05:00","dateModified": "2024-11-29T08:08:47+05:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "danish mehmood"
            },"description": "This blog series is all about microservices, we will start with simple definition of microservices and and go all the way to know how to implement them effectively and when do they make sense and when is it a stupid idea to implement microservices"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="danish-mehmood"><span class="header-title-pre">$:~/</span>Danish-Mehmood.io<span class="header-title-post">/</span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="search the blog" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="danish-mehmood"><span class="header-title-pre">$:~/</span>Danish-Mehmood.io<span class="header-title-post">/</span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="search the blog" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Microservices Architecture Deep Dive: Part One</h1><h2 class="single-subtitle">What are microservices, what are their tradeoffs and how to decompose a monolith in to many microservices</h2><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>danish mehmood</a></span>&nbsp;<span class="post-category">included in <a href="/categories/microservices/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>microservices</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-11-29">2024-11-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2851 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;14 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/posts/microservices/microservices_header.gif"
        data-srcset="/images/posts/microservices/microservices_header.gif, /images/posts/microservices/microservices_header.gif 1.5x, /images/posts/microservices/microservices_header.gif 2x"
        data-sizes="auto"
        alt="/images/posts/microservices/microservices_header.gif"
        title="This blog series is all about microservices, we will start with simple definition of microservices and and go all the way to know how to implement them effectively and when do they make sense and when is it a stupid idea to implement microservices" width="1100" height="618" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#microservices-the-inception">Microservices: The Inception</a>
      <ul>
        <li><a href="#service-oriented-architecture-soa1">Service Oriented Architecture (SOA)</a></li>
        <li><a href="#cloud-computing">Cloud Computing</a></li>
        <li><a href="#martin-fowler-and-james-lewiss-definition">Martin Fowler and James Lewis&rsquo;s Definition</a></li>
        <li><a href="#early-adopters-and-case-studies">Early Adopters And Case Studies</a></li>
      </ul>
    </li>
    <li><a href="#microservices-a-definition">Microservices: A Definition</a></li>
    <li><a href="#microservices-the-characteristics">Microservices: The Characteristics</a>
      <ul>
        <li><a href="#preface">Preface</a></li>
        <li><a href="#independent-deployability">Independent Deployability</a></li>
        <li><a href="#services-owning-there-own-state-aka-every-service-having-its-own-database">Services Owning there Own State (aka every service having its own database)</a></li>
        <li><a href="#what-about-size">What About Size</a></li>
        <li><a href="#design-for-failure">Design For Failure</a></li>
        <li><a href="#smart-endpoints-and-dumb-pipes">Smart Endpoints And Dumb Pipes</a></li>
      </ul>
    </li>
    <li><a href="#microservices-monolith-to-microservice-decomposition-patterns">Microservices: Monolith To Microservice Decomposition Patterns</a></li>
    <li><a href="#microservices-advantages">Microservices: Advantages</a>
      <ul>
        <li><a href="#flexibility-with-technology-choice">Flexibility With Technology Choice</a></li>
        <li><a href="#robustness">Robustness</a></li>
        <li><a href="#scaling">Scaling</a></li>
        <li><a href="#ease-of-deployment">Ease Of Deployment</a></li>
      </ul>
    </li>
    <li><a href="#microservices-disadvantages">Microservices: Disadvantages</a>
      <ul>
        <li><a href="#developer-experience">Developer Experience</a></li>
        <li><a href="#technology-overload">Technology Overload</a></li>
        <li><a href="#monitoring-and-debugging">Monitoring And Debugging</a></li>
        <li><a href="#security">Security</a></li>
        <li><a href="#latency">Latency</a></li>
        <li><a href="#data-consistency">Data Consistency</a></li>
      </ul>
    </li>
    <li><a href="#useful-links">Useful Links</a></li>
    <li><a href="#book-recommendation">Book Recommendation</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p><strong>Microservices</strong> are one of the most popular methodology to develop and deploy the software systems. In popularity it is
only second to <strong>Monoliths</strong> (or Modular Monoliths).</p>
<p>This blog series is all about microservices, how do they differ from monoliths, what are their pros and cons, when do they
make sense and how to implement microservices effectively.</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>Table Of Contents<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p><i class="fa-solid fa-arrow-right-long" aria-hidden="true"></i>&nbsp;Part 1 - <strong>Microservices Architecture Deep Dive</strong> <i class="fa-solid fa-arrow-left-long" aria-hidden="true"></i>&nbsp;you are here <i class="fa-solid fa-location-crosshairs" aria-hidden="true"></i></p>
<p><i class="fa-solid fa-arrow-right-long" aria-hidden="true"></i>&nbsp;Part 2 - <a href="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-two--api-gateways-and-bff-pattern/" target="_blank" rel="noopener noreffer ">API Gateways and Backend For Frontend Pattern</a></p>
<p><i class="fa-solid fa-arrow-right-long" aria-hidden="true"></i>&nbsp;Part 3 - <a href="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-three-communications/" target="_blank" rel="noopener noreffer ">Microservices Communication</a></p>
<p><i class="fa-solid fa-arrow-right-long" aria-hidden="true"></i>&nbsp;Part 4 - <a href="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-four-service-discovery/" target="_blank" rel="noopener noreffer ">Service Discovery</a></p>
</div>
        </div>
    </div>
<h2 id="microservices-the-inception">Microservices: The Inception</h2>
<p>Microservices don&rsquo;t have any precise inception date, but rather evolved over time. It gained prominence around <strong>2011</strong>
largely due to shift towards cloud and distributed computing. following are the things which led to microservices</p>
<h3 id="service-oriented-architecture-soa1">Service Oriented Architecture (SOA<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>)</h3>
<p>Microservices evolved as a refinement of SOA, which focused on creating loosely coupled, reusable services , but SOA had
some severe afflictions like heavy <strong>middleware</strong> and <strong>complexity</strong> to name a few.</p>
<h3 id="cloud-computing">Cloud Computing</h3>
<p>The growing adoption of cloud platforms like aws highlighted the need for smaller, more independent services (by the way
it was companies like aws which pioneered the breaking down of monoliths into smaller services)</p>
<h3 id="martin-fowler-and-james-lewiss-definition">Martin Fowler and James Lewis&rsquo;s Definition</h3>
<p>In 2014 in their influential article, titled <a href="https://martinfowler.com/articles/microservices.html" target="_blank" rel="noopener noreffer ">&ldquo;Microservices: A Definition of This New Architectural Term&rdquo;</a>, Fowler and Lewis codified the principles and patterns of microservices. This was pivotal in standardizing the concept and its terminology.</p>
<h3 id="early-adopters-and-case-studies">Early Adopters And Case Studies</h3>
<p>Companies like <strong>Netflix</strong> and <strong>Amazon</strong> implemented microservices early, demonstrating its effectiveness in scaling and adapting to dynamic workloads. Netflix&rsquo;s architecture shift started in the late 2000s and became a famous case study for microservices.</p>
<h2 id="microservices-a-definition">Microservices: A Definition</h2>
<p><strong><em>While there is no precise definition of this architectural style, there are certain common characteristics around organization around business capability, automated deployment, intelligence in the endpoints, and decentralized control of languages and data.</em></strong></p>
<p>This is how martin fowler describes microservices, and in my opinion he is on point.</p>
<p>The goal of this blog post is to discuss these characteristcs that make up microservices that he is talking about. And in subsequent blog posts i will go deep in to the tools which the Engineers use to work with microservices effectively.</p>
<h2 id="microservices-the-characteristics">Microservices: The Characteristics</h2>
<h3 id="preface">Preface</h3>
<p>Microservices are independently releaseable services which are modeled around the business domain (e.g an ecommerce web application will have services like inventory, order management and shipping), each service exposes the API so that other services can use its functionality, but the implementation details remain hidden, once we have small services the more complex bigger system could be built using these small services like
a lego.
Information hidding<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> is very important for microservices to work, every service hides as much information as possible from other services because that would make sure that in future if a microservice needs to change it can change without effecting the other services using this service which is subject to change.</p>
<h3 id="independent-deployability">Independent Deployability</h3>
<p>This refers to the characteristic of a service, in which you can change a service in some way and deploy it and the new feature or change is now available to the software&rsquo;s users, you don&rsquo;t need to change any other service, there are no cascading changes. some examples of changes would be , a small bug fix , api endpoint changes , addition of a whole new feature or a database schema change.</p>
<blockquote>
<p>Achieving this level of decoupling in a real world system is extremely difficult and engineers in the real world could relax this rule of microservices. nonetheless this is the <strong>most important</strong> characteristic of microservices, if you are able to achieve independent deployability for your application, you have already solved alot of problems which microservices promise to solve. And if you focus on this characteristic as the out come you would achieve numerous other benefits of microservices because independent deployability could only be achieved if you get alot of other things right.</p>
</blockquote>
<h3 id="services-owning-there-own-state-aka-every-service-having-its-own-database">Services Owning there Own State (aka every service having its own database)</h3>
<!-- todo-add links to distributed transactions post -->
<blockquote>
<p>This characteristic was synonymous to microservices few years ago , it went without saying that microservices should have their own databases each, but for the past few years it has become a point of contention, and people tend to challenge this rule more and more, the reason for contention is this that this rule does solve alot of problems but also create many of its own as well, like <strong>Distributed Transactions</strong>, which are very hard to get right.</p>
</blockquote>
<p>This characteristic suggests that if service A needs some data from the database of some other microservice B, it should ask microservice B through its API to hand over the data and not share the database, this way the services will have control over what is visible to other services and what is not and access to data would be limited, and if the access to the data is limited by the API requests then service B can keep on changing e.g the schema of the database or even replace the whole database and jump from sql to no-sql database even than service A would not need to change because the API which service B is providing is the same.</p>
<p>If we want our services to be independently deployable we need to promote backward <strong>compatibility</strong> and limit the backward <strong>incompatibility</strong>,
Its that simple, but hard to achieve because you need to have a very vivid vision for the service you are designing, and you have to think in much advance what to expose and what not to expose to other services,</p>
<p>If you make some change to a service A which is backward <strong><em>incompatible</em></strong> with the services consuming service A , all the consuming services are forced to change, so <strong><em>&ldquo;services owning their own state&rdquo;</em></strong> is aiming to promote backward compatibility.</p>
<h3 id="what-about-size">What About Size</h3>
<p>This is one of the most discussed topic in the microservices arena , <strong><em>what should be the size of a microservice?</em></strong>
obviously there could be many answers to this question, one answer which i have heard is <strong>&ldquo;this is something which should be subjective&rdquo;</strong>, I don&rsquo;t agree with this because if microservice&rsquo;s size is being determined by a person&rsquo;s (or multiple people&rsquo;s) subjectivity then there would be hundreds of engineers and project managers who would work on the microservice during its life time, whose subjectivity should the team adhere to.</p>
<p>there are other answers which do make sense like <strong>&ldquo;microservice should be as big as your head&rdquo;</strong> which means that microservice should be big enough so that a person working on it can fit it in his/her head, they should have complete idea how the microservice works, what are its interfaces, how is it internally coupled, whats exists where e.t.c. This definition of size is also somewhat contentious, because every person&rsquo;s ability to fit things in his or her head is different.</p>
<blockquote>
<p>this idea of a systems being as big as a persons head is not new, it was one of the goals of OOP as well, you design classes and encapsulate the functionality, exposing small interface of the class and giving class a name , now whenever the programmer needed to reason about the code in his head or in communication with someone else instead of mentioning the whole functionality and interface the person can alias it with the name of the class. <strong><em>interesting isn&rsquo;t it?</em></strong></p>
</blockquote>
<p>The Best definition of size would be, <strong>&ldquo;A microservice should have as small of an interface as possible&rdquo;</strong>, and this is very self-explanatory.
And this aligns with information hiding aspect i have just mentioned.</p>
<h3 id="design-for-failure">Design For Failure</h3>
<p>One characteristic that martin fowler lists is designing the services for failure, but what does this mean?</p>
<p>Well this means that at every point of a microservices design we should be <strong><em>assuming</em></strong> that the failure can happen and handle the failure accordingly. This is one of the side effects of breaking the monolith down into services, Because before the application was a <strong><em>single process</em></strong> monolith and now the monolith has become different services residing in different processes maybe on different computers and when they communicate failures could occur.</p>
<p>Whole projects and methodologies have emerged because of this, projects like <strong><em>grpc</em></strong> is a RPC<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> framework which handles all the boilerplate for fault and error handling for the services, so you don&rsquo;t have to right the boilerplate and can focus on the logic of the service, and methodology like chaos testing has emerged to rigorously test the services in hostile circumstances.</p>
<h3 id="smart-endpoints-and-dumb-pipes">Smart Endpoints And Dumb Pipes</h3>
<p>This characteristic suggests that, the communication channels between microservices should do the bare minimum which is <strong><em>communicate</em></strong> and thats it and all the other shenanigans should be left to the services which are communicating.</p>
<blockquote>
<p>This is a lesson we have learned from microservices predecessor <strong>&ldquo;Service Oriented Architecture&rdquo;</strong> which used ESB (Enterprise Service Bus) for communications which was a fully loaded communication system, and this ESB is what lead to the demise of SOA</p>
</blockquote>
<p>REST is prime example of this, it is a very dumb protocol, service A sends request to service B, service B gets the response ready and sends back the response, plain and simple, REST does not introduce any kind of magic, it prefers being dumb and just gives us simple rules to abide by.</p>
<p>The messaging queues are another good example which contribute to the service communication without being too smart, they are simple queue datastructure implementation which come with certain guarantees and aid services with async communication.</p>
<!-- todo-add link to async communication -->
<p>I will go deep into messaging queues in the future blog post about <strong><em>sync and async communication.</em></strong></p>
<h2 id="microservices-monolith-to-microservice-decomposition-patterns">Microservices: Monolith To Microservice Decomposition Patterns</h2>
<p>It is not possible to break the monolith down into Microservices in a day, its a complex process which takes alot of thinking and planning on engineers part, but as the time has went by and more and more big companies like netflix , uber and aws have adopted microservices, they have comeup with patterns of decomposition which are now battle tested and work really well, so engineers need to know those patterns so they don&rsquo;t reinvent the wheel, following i will list down some patterns and i will discuss some of them in the future blog posts.</p>
<!-- todo-add links to the following -->
<ul>
<li>strangler fig pattern</li>
<li>domain driven design</li>
<li>Event driven decomposition</li>
<li>database splitting</li>
<li>backend for frontend</li>
</ul>
<h2 id="microservices-advantages">Microservices: Advantages</h2>
<h3 id="flexibility-with-technology-choice">Flexibility With Technology Choice</h3>
<p>This is one of the best pro of having microservices architecture, you can choose to develop every service with different tech stack, for instance you can use a database for a service which is suitable for the service workload and now you are noot shackled by the monolith, e.g if the workloads for the service are write heavy, you can use a DBMS which uses LSM tree as an internal datastructure but if the workload is read heavy you can use B-Tree based DBMS, same story repeats for the columnar or row based databases.</p>
<p>In the same way you can choose the implementation language for the service on different criterias, Golang if you want good out of the box concurrency and python if good library support is needed and concurrency is not much of a concern.</p>
<h3 id="robustness">Robustness</h3>
<p>Microservices are more robust compared to monoliths, if monolith application fails the system fails, in case of microservices a single service could fail for some time but the whole system does not come down crumbling, if the failure is not cascading.</p>
<h3 id="scaling">Scaling</h3>
<p>Just like microservices are invidually deployable, they are also individually scaleable, and thats a big deal, in case of monoliths you need to scale the whole application even if small part of the application needed scaling</p>
<p>Imagine an e-commerce platform with the following functionalities:</p>
<ul>
<li>User Service: Handles user authentication and profile management.</li>
<li>Order Service: Manages order placement and history.</li>
<li>Inventory Service: Tracks product stock.</li>
<li>Recommendation Service: Provides personalized product recommendations.
In a monolithic architecture, all these services are part of a single application. If product recommendations experience a spike in demand (e.g., during a sale), the entire monolith must scale, even though only the Recommendation Service requires more resources.</li>
</ul>
<p>In a microservices architecture, these functionalities are separate services. Each can be independently scaled based on demand:</p>
<p>During a sale:</p>
<ul>
<li>Recommendation Service: Scales to handle the increased load, spinning up additional instances.</li>
<li>User Service, Order Service, and Inventory Service: Remain unaffected and do not incur extra costs.</li>
</ul>
<h3 id="ease-of-deployment">Ease Of Deployment</h3>
<p>Imagine changin one line in million line monolith application and redeploying, thats too much risk and apart from that you would also need to run all the tests hoping that the change has broken nothing.</p>
<p>Now on the other hand microservices are small code bases and changes and deployments both are fast and even if anything breaks its easy to trace and fix.</p>
<blockquote>
<p>you can comeup with alot more advantages of microservices but these are the main advantages which entice mojority engineering teams to invest time and effort to migrate to microservices architecture</p>
</blockquote>
<h2 id="microservices-disadvantages">Microservices: Disadvantages</h2>
<h3 id="developer-experience">Developer Experience</h3>
<p>One of the main pain points of developing a microservices architecture is terrible developer experience, because it is very difficult to mimic the runtime environment locally, your single computer can only run fraction of total microservices. and if you are developing in the cloud thats even worse because the feedback cycles are longer.</p>
<h3 id="technology-overload">Technology Overload</h3>
<p>There are like 50 solutions for the same problem in the market and every engineering team is using different tools to solve the same problem in different companies,so the engineers have to keep up with the tool evolution ever so often, which is very demanding for example there are 20 tools to create a <strong><em>service mesh</em></strong> which i can name off the cuff right now, but all of them are doing the same thing (there internal implementation details could differ).</p>
<p>secondly the advantage of flexibility with the technology could turn into a disadvantage quickly, because you have so many technology choices to solve a problem that you can suffer with <strong><em>choice paralysis</em></strong> and that could consequently postpone the decisions.</p>
<p>and lastly you can gradually keep on adding new tools to the project like you start with docker swarm and then gradually shift to kubernetes and the same way you keep on adding tools, and when there is new onboarding on the team the new person would be terrified watching so many unnecessary tech being used, and that could effect the team productivity.</p>
<h3 id="monitoring-and-debugging">Monitoring And Debugging</h3>
<p>In monoliths there is single application running on the single server and that makes it very easy to monitor it and debugging the problems, because the <strong>life of a query</strong> is so simple, the client makes a request and the single server responds to the request, that is it.</p>
<p>But in case of microservices the life of the query gets exponentially bigger with the number of microservices communicating to full fill the query. consequently if there is some problem in the system its very difficult to pin point where the problem really is, and it is also very hard to monitor the whole system and get a <strong>holistic</strong> view of things, below the image is depicting a problem in microservices called <strong><em>Big ball of mud</em></strong>, it refers to the communication between different microservices as big ball of mud, and it sure is ball of mud,</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/posts/microservices/partone/ballofmud.gif"
        data-srcset="/images/posts/microservices/partone/ballofmud.gif, /images/posts/microservices/partone/ballofmud.gif 1.5x, /images/posts/microservices/partone/ballofmud.gif 2x"
        data-sizes="auto"
        alt="/images/posts/microservices/partone/ballofmud.gif"
        title="hello" width="600" height="338" /></p>
<blockquote>
<p>now you can imagine why it is so hard to monitor and debug microservices</p>
</blockquote>
<h3 id="security">Security</h3>
<p>With a single-process monolithic system, much of our information flowed within
that process. Now, more information flows over networks between our services. This
can make our data more vulnerable to being observed in transit and also to poten‐
tially being manipulated as part of man-in-the-middle attacks. This means that you
might need to direct more care to protecting data in transit and to ensuring that your
microservice endpoints are protected so that only authorized parties are able to make
use of them.</p>
<h3 id="latency">Latency</h3>
<p>With a microservice architecture, processing that might previously have been done
locally on one processor can now end up being split across multiple separate micro‐
services. Information that previously flowed within only a single process now needs
to be serialized, transmitted, and deserialized over networks that you might be exer‐
cising more than ever before. All of this can result in worsening latency of your
system.</p>
<h3 id="data-consistency">Data Consistency</h3>
<p>Shifting from a monolithic system, in which data is stored and managed in a single
database, to a much more distributed system, in which multiple processes manage
state in different databases, causes potential challenges with respect to consistency of
data. Whereas in the past you might have relied on database transactions to manage
state changes, you’ll need to understand that similar safety cannot easily be provided
in a distributed system. The use of distributed transactions in most cases proves to be
highly problematic in coordinating state changes</p>
<h2 id="useful-links">Useful Links</h2>
<ul>
<li><a href="https://netflixtechblog.com/tagged/microservices" target="_blank" rel="noopener noreffer ">Microservices at netflix</a></li>
<li><a href="https://careersatdoordash.com/blog/failure-mitigation-for-microservices-an-intro-to-aperture/?utm_source=blog.quastor.org&amp;utm_medium=newsletter&amp;utm_campaign=scaling-microservices-at-doordash" target="_blank" rel="noopener noreffer ">DoorDash scaling microservices</a></li>
<li><a href="https://eng.snap.com/monolith-to-multicloud-microservices-snap-service-mesh?lang=en-US" target="_blank" rel="noopener noreffer ">Snap chat&rsquo;s journey from monolith to microservices</a></li>
</ul>
<h2 id="book-recommendation">Book Recommendation</h2>
<p>Read the brilliant book by Sam Newman called building microservices<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></p>
<h2 id="references">References</h2>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://aws.amazon.com/what-is/service-oriented-architecture/#:~:text=you%20implement%20microservices%3F-,What%20is%20service%2Doriented%20architecture%3F,other%20across%20platforms%20and%20languages." target="_blank" rel="noopener noreffer ">what is service oriented architecture</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://www.researchgate.net/publication/221331713_Information_Distribution_Aspects_of_Design_Methodology" target="_blank" rel="noopener noreffer ">information distribution aspects of design methodology</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p><a href="https://en.wikipedia.org/wiki/Remote_procedure_call" target="_blank" rel="noopener noreffer ">Remote procedure calls</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p><a href="https://www.amazon.com/Building-Microservices-Designing-Fine-Grained-Systems/dp/1492034029" target="_blank" rel="noopener noreffer ">Brilliant book: building microservices</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2024-11-29</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/microservices-architecture-deep-dive-part-one/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/" data-title="Microservices Architecture Deep Dive: Part One" data-hashtags="microservices,distributed systems"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/" data-hashtag="microservices"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://danish-mehmood.github.io/microservices-architecture-deep-dive-part-one/" data-title="Microservices Architecture Deep Dive: Part One"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/microservices/">microservices</a>,&nbsp;<a href="/tags/distributed-systems/">distributed systems</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/microservices-architecture-deep-dive-part-two--api-gateways-and-bff-pattern/" class="next" rel="next" title="Microservices Architecture Deep Dive Part Two : API Gateways and Backend For Frontend Pattern">Microservices Architecture Deep Dive Part Two : API Gateways and Backend For Frontend Pattern<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="giscus" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app">Giscus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Danish Mehmood</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"giscus":{"category":"Announcements","categoryId":"DIC_kwDOMZSvQM4ChDiJ","darkTheme":"dark","emitMetadata":"1","inputPosition":"bottom","lang":"en","lazyLoading":true,"lightTheme":"light","mapping":"pathname","reactionsEnabled":"1","repo":"danish-mehmood/Giscus","repoId":"R_kgDOMZSvQA"}},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-1H67WDJ7JS');
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-1H67WDJ7JS" async></script></body>
</html>
